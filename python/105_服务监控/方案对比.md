> https://zhuanlan.zhihu.com/p/60834381
>
> https://www.jianshu.com/p/f7cb7834f71c
>
> https://www.infoq.cn/article/pjT0NVEi3jCraDBLQGjX
>
> https://zhuanlan.zhihu.com/p/26369145

##### 备选方案

```
调研了监控系统相关的解决方案, 罗列了几个老牌和新一代解决方案, 简单概括

1. Zabbix
1998 发布, 能满足大部分服务监控场景需求, 系统功能稳定，成熟度较高, 社区活跃


2. Nagios
1999 年发布, 基本已被 zabbix 替代


3. Prometheus
2016 年发布, 在架构设计上借鉴了很多老牌监控系统的经验, 发展迅速


4. Open-falcon
小米 2015 年开源的企业级监控工具, 由于发布时间较短, 虽然有开放社区，但是解决问题的效率相对较低, 版本更新慢, UI 不够友好, 安装比较复杂, 由于它是从小米内部衍生出来的，虽然去掉了对小米内部系统的依赖，但是组件还是比较多
```

##### 案对比

> Prometheus+ Grafana+ alertmanager

|                    | Zabbix 5.4                                                   | Prometheus 2.28                               |
| ------------------ | ------------------------------------------------------------ | --------------------------------------------- |
| 开发商             | Alexei Vladishev                                             | Google                                        |
| 开发语言           | C + PHP                                                      | Golang                                        |
| 实现方案           | Zabbix + Grafana                                             | Prometheus+ Grafana                           |
| 是否开源           | 是                                                           | 是                                            |
| 数据采集           |                                                              |                                               |
| 数据存储           | 关系数据库和时序数据库                                       | 自研一套高性能的时序数据库                    |
| 社区               |                                                              |                                               |
| 可视化和仪表板编辑 | 集成 Web UI, 通常用 Grafana 代替                             | 集成 Web UI, 通常用 Grafana 代替              |
| 数据模型 tag 等等  |                                                              |                                               |
| 通知形式           |                                                              |                                               |
| 适用场景           | 能满足大部分服务监控场景需求，但是应用层的监控似乎并不擅长，比如要监控线程池的状态、某个内部接口的执行时间等，这种通常都要做侵入式埋点 | 服务监控, 擅长应用监控                        |
| 特性               | 可以监控服务器，路由器，交换机                               | 更适合云环境下监控，特别是k8s系统下的服务监控 |
| 局限性             |                                                              |                                               |
| 自定义监控规则     |                                                              |                                               |
| 二次开发           |                                                              |                                               |
| 高可用             |                                                              |                                               |
| 部署复杂度         |                                                              |                                               |
| 扩展性             |                                                              |                                               |

